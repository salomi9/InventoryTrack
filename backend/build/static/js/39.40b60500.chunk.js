(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[39],{699:function(e,t,a){"use strict";t.a=""},891:function(e,t,a){"use strict";a.r(t);var n=a(194),l=a(184),s=a(185),r=a(187),i=a(186),o=a(0),u=a.n(o),c=a(694),m=(a(695),a(699)),d=a(131),p=a(183),h=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e,s;Object(l.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(s=t.call.apply(t,[this].concat(i))).state=(e={userId:void 0==s.props.location.res?"":s.props.location.res._id,bu:void 0==s.props.location.res?"":s.props.location.res.BUID,buValid:!1,buInvalid:!1,BUName:"",buArr:[]},Object(n.a)(e,"BUName",void 0==s.props.location.res?"":s.props.location.res.BUName),Object(n.a)(e,"BUID",void 0==s.props.location.res?"":s.props.location.res.BUID),Object(n.a)(e,"userType",void 0==s.props.location.res?"":s.props.location.res.userType),Object(n.a)(e,"utArr",[]),Object(n.a)(e,"name",void 0==s.props.location.res?"":s.props.location.res.name),Object(n.a)(e,"email",void 0==s.props.location.res?"":s.props.location.res.email),e),s.fetchBu=function(e){fetch(m.a+"/bu/fetch").then((function(e){return e.json()})).then((function(e){void 0!=e.data&&e.data&&s.setState({buArr:e.data})})).catch((function(e){}))},s.fetchUserType=function(e){fetch(m.a+"/types/ut").then((function(e){return e.json()})).then((function(e){void 0!=e.data&&e.data&&s.setState({utArr:e.data})})).catch((function(e){console.log("User type Fetch Array",e)}))},s.handleUserTypeChange=function(e){""!=e.target.value&&"Please select"!=e.target.value?s.setState({userType:e.target.value,userTypeValid:!0,userTypeInvalid:!1}):s.setState({userTypeInvalid:!0,userTypeValid:!1})},s.handleBuChange=function(e){console.log("****",e.target.value),""!=e.target.value&&"Please Select BU"!=e.target.value?s.setState({bu:e.target.value,BUName:e.target.value.text,buValid:!0,buInvalid:!1}):s.setState({bu:"",BUName:"",buValid:!1,buInvalid:!0})},s.handleNameChange=function(e){""!=e.target.value&&null!=e.target.value&&e.target.value.match(/^[a-zA-Z-,]+(\s{0,1}[a-zA-Z-, ])*$/)?s.setState({name:e.target.value,nameValid:!0,nameInvalid:!1}):s.setState({name:"",nameValid:!1,nameInvalid:!0})},s.handleEmailChange=function(e){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,15})+$/.test(e.target.value)?s.setState({email:e.target.value,emailValid:!0,emailInvalid:!1}):s.setState({email:e.target.value,emailInvalid:!0,emailValid:!1})},s.handleSubmit=function(){var e=s.props.alert;if(console.log("state on submit",s.state),null!=s.state.name&&void 0!=s.state.name&&""!=s.state.name&&null!=s.state.bu&&void 0!=s.state.bu&&""!=s.state.bu&&null!=s.state.userType&&void 0!=s.state.userType&&""!=s.state.userType&&null!=s.state.email&&void 0!=s.state.email&&""!=s.state.email){console.log("bu",s.state.bu);var t={};t.userId=s.state.userId,t.userType=s.state.userType,t.email=s.state.email,t.name=s.state.name,t.BUID=s.state.bu,t.BUName=s.state.BUName,s.dataRequest("/user/update",t).then((function(t){void 0!=t.message?e.show(t.message):e.show("Internal Server Error !")})).catch((function(t){e.show("Oops, Something went wrong!")}))}else console.log("inside else"),e.show("Please fill all the required fields")},s.handleReset=function(){console.log("reset",s.state),s.setState({userType:"",userTypeValid:!1,userTypeInvalid:!1,bu:"",buValid:!1,buInvalid:!1,name:"",nameValid:!1,nameInvalid:!1,email:"",emailInvalid:!1,emailValid:!1},(function(){console.log("reset1",s.state)}))},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchBu(),this.fetchUserType()}},{key:"dataRequest",value:function(e,t){var a=this;return fetch(m.a+e,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return(401==e.status||403==e.status)&&a.props.history.push("/login"),e.json()})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this,t=this.state.buArr.map((function(e){return u.a.createElement("option",{key:e._id,value:e._id},e.BUName)})),a=this.state.utArr.map((function(e){return console.log(e),u.a.createElement("option",{key:e},e)}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.j,null,u.a.createElement(c.n,null,"Edit User Details"),u.a.createElement(c.k,null,u.a.createElement(c.u,{xs:"3"}),u.a.createElement(c.u,{xs:"7"},u.a.createElement(c.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"email-input"},"Name",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.R,{type:"text",id:"tex1-input",name:"text1-input",placeholder:"Enter User's Name",autoComplete:"tex1",value:this.state.name,valid:this.state.nameValid,invalid:this.state.nameInvalid,onChange:function(t){return e.handleNameChange(t)}}),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"Please Enter a Valid Name!"))),u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"select"},"Business Unit:")),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.wb,{custom:!0,name:"select",id:"select",value:this.state.bu,valid:this.state.buValid,invalid:this.state.buInvalid,onChange:function(t){return e.handleBuChange(t)}},console.log("bu state",this.state.bu),u.a.createElement("option",null,"Please Select BU"),t),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"This field is required!"))),u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"text-input"},"User Type",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.wb,{custom:!0,name:"select",id:"select2",value:this.state.userType,valid:this.state.userTypeValid,invalid:this.state.userTypeInvalid,onChange:function(t){return e.handleUserTypeChange(t)}},u.a.createElement("option",null,""!=this.state.userType?this.state.userType:"Please select User Type"),a),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"This field is required!"))),u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"email-input"},"EmailID",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.R,{type:"text",id:"email-input",name:"email-input",placeholder:"Enter Email Address",autoComplete:"email",value:this.state.email,valid:this.state.emailValid,invalid:this.state.emailInvalid,onChange:function(t){return e.handleEmailChange(t)}}),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"Please Enter Valid Email")))))),u.a.createElement(c.l,null,u.a.createElement(c.f,{type:"submit",size:"sm",color:"primary",style:{margin:"3px"},onClick:this.handleSubmit},"Submit"),u.a.createElement(c.f,{type:"reset",size:"sm",color:"danger",style:{margin:"3px"},onClick:this.handleReset},"Reset"),u.a.createElement(p.b,{to:"/usersTable"},u.a.createElement(c.f,{size:"sm",color:"dark",style:{margin:"3px"}},"Back")))))}}]),a}(u.a.Component);t.default=Object(d.c)()(h)}}]);
//# sourceMappingURL=39.40b60500.chunk.js.map