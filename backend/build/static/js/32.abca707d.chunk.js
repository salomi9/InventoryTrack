(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[32],{699:function(e,t,a){"use strict";t.a=""},894:function(e,t,a){"use strict";a.r(t);var n=a(184),r=a(185),l=a(187),i=a(186),s=a(0),o=a.n(s),u=a(694),c=(a(695),a(699)),m=a(131),d=a(183),h=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={buId:void 0==e.props.location.res?"":e.props.location.res._id,buName:void 0==e.props.location.res?"":e.props.location.res.BUName,buNameValid:!1,buNameInvalid:!1,engineer:void 0==e.props.location.res?"":e.props.location.res.BURPID,tmValid:!1,tmInvalid:!1,userArr:[]},e.fetchUser=function(){fetch(c.a+"/user/fetch").then((function(e){return e.json()})).then((function(t){void 0!=t&&Array.isArray(t.data)&&e.setState({userArr:t.data})})).catch((function(e){return e}))},e.handleEnggChange=function(t){""!=t.target.value&&"Please Select Engineer"!=t.target.value?e.setState({engineer:t.target.value,tmValid:!0,tmInvalid:!1}):e.setState({tmValid:!1,tmInvalid:!0})},e.handleBuNameChange=function(t){""!=t.target.value&&null!=t.target.value&&t.target.value.match(/^[a-zA-Z-,]+(\s{0,1}[a-zA-Z-, ])*$/)?e.setState({buName:t.target.value,buNameValid:!0,buNameInvalid:!1}):e.setState({buName:"",buNameValid:!1,buNameInvalid:!0})},e.handleSubmit=function(){var t=e.props.alert;if(""!=e.state.buName&&""!=e.state.engineer){var a={};a.buId=e.state.buId,a.BUName=e.state.buName,a.BURPID=e.state.engineer,e.dataRequest("/bu/update",a).then((function(e){void 0!=e.message?t.show(e.message):t.show("Internal Server Error !")})).catch((function(e){console.log("inside TRForm",e)}))}else t.show("Please fill all the required fields")},e.handleReset=function(){e.setState({buName:"",buNameValid:!1,buNameInvalid:!1,engineer:"",tmValid:!1,tmInvalid:!1})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.fetchUser(),console.log("Props",this.props)}},{key:"dataRequest",value:function(e,t){var a=this;return fetch(c.a+e,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return(401==e.status||403==e.status)&&a.props.history.push("/login"),e.json()})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this,t=this.state.userArr.map((function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.name)}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.j,null,o.a.createElement(u.n,null,"Add/Edit Business Unit Information"),o.a.createElement(u.k,null,o.a.createElement(u.u,{xs:"3"}),o.a.createElement(u.u,{xs:"7"},o.a.createElement(u.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},o.a.createElement(u.K,{row:!0},o.a.createElement(u.u,{md:"3"},o.a.createElement(u.bb,{htmlFor:"text-input"},"Business Unit Name",o.a.createElement("span",{style:{color:"red"}},"*"))),o.a.createElement(u.u,{xs:"12",md:"9"},o.a.createElement(u.R,{id:"text-input",name:"text-input",value:this.state.buName,onChange:function(t){return e.handleBuNameChange(t)},valid:this.state.buNameValid,invalid:this.state.buNameInvalid,placeholder:"Enter BU Name"}),o.a.createElement(u.Qb,null,"Looks Good!"),o.a.createElement(u.Z,null,"This field is required!"))),o.a.createElement(u.K,{row:!0},o.a.createElement(u.u,{md:"3"},o.a.createElement(u.bb,{htmlFor:"select"},"Business Unit Lead",o.a.createElement("span",{style:{color:"red"}},"*"))),o.a.createElement(u.u,{xs:"12",md:"9"},o.a.createElement(u.wb,{custom:!0,name:"select",id:"select",value:this.state.engineer,valid:this.state.tmValid,invalid:this.state.tmInvalid,onChange:function(t){return e.handleEnggChange(t)}},o.a.createElement("option",null,"Please Select Engineer"),t),o.a.createElement(u.Qb,null,"Looks Good!"),o.a.createElement(u.Z,null,"This field is required!")))))),o.a.createElement(u.l,null,o.a.createElement(u.f,{type:"submit",size:"sm",color:"primary",style:{margin:"3px"},onClick:this.handleSubmit},"Submit"),o.a.createElement(u.f,{type:"reset",size:"sm",color:"danger",style:{margin:"3px"},onClick:this.handleReset},"Reset"),o.a.createElement(d.b,{to:"/buManagement"},o.a.createElement(u.f,{size:"sm",color:"dark",style:{margin:"3px"}},"Back")))))}}]),a}(o.a.Component);t.default=Object(m.c)()(h)}}]);
//# sourceMappingURL=32.abca707d.chunk.js.map