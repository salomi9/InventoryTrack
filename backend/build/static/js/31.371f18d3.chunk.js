(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{699:function(e,t,a){"use strict";t.a=""},893:function(e,t,a){"use strict";a.r(t);var n=a(184),l=a(185),r=a(187),i=a(186),s=a(0),u=a.n(s),c=a(694),o=(a(695),a(699)),m=a(131),d=a(183),h=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={buName:"",buNameValid:!1,buNameInvalid:!1,engineer:"",tmValid:!1,tmInvalid:!1,BUID:void 0==e.props.location.res?"":e.props.location.res.BUID,userArr:[]},e.fetchUser=function(){e.state.BUID;fetch(o.a+"/user/fetch").then((function(e){return e.json()})).then((function(t){(null!=t||void 0!=t&&Array.isArray(t.data))&&e.setState({userArr:t.data})})).catch((function(e){}))},e.handleEnggChange=function(t){""!=t.target.value&&"Please Select Engineer"!=t.target.value?e.setState({engineer:t.target.value,tmValid:!0,tmInvalid:!1}):e.setState({tmValid:!1,tmInvalid:!0})},e.handleBuNameChange=function(t){""!=t.target.value&&null!=t.target.value&&t.target.value.match(/^[a-zA-Z-,]+(\s{0,1}[a-zA-Z-, ])*$/)?e.setState({buName:t.target.value,buNameValid:!0,buNameInvalid:!1}):e.setState({buName:"",buNameValid:!1,buNameInvalid:!0})},e.handleSubmit=function(){var t=e.props.alert;if(e.state.buNameValid&&e.state.tmValid){var a={};a.BUName=e.state.buName,a.BURPID=e.state.engineer,e.dataRequest("/bu/add",a).then((function(e){void 0!=e.message?t.show(e.message):t.show("Internal Server Error !")})).catch((function(e){console.log("inside TRForm",e)}))}else t.show("Please fill all the required fields")},e.handleReset=function(){e.setState({buName:"",buNameValid:!1,buNameInvalid:!1,engineer:"",tmValid:!1,tmInvalid:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchUser(),console.log("Props",this.props)}},{key:"dataRequest",value:function(e,t){var a=this;return fetch(o.a+e,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return(401==e.status||403==e.status)&&a.props.history.push("/login"),e.json()})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this,t=this.state.userArr.map((function(e){return u.a.createElement("option",{key:e._id,value:e._id},e.name)}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.j,null,u.a.createElement(c.n,null,"Add/Edit Business Unit Information"),u.a.createElement(c.k,null,u.a.createElement(c.u,{xs:"3"}),u.a.createElement(c.u,{xs:"7"},u.a.createElement(c.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"text-input"},"Business Unit Name",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.R,{id:"text-input",name:"text-input",onChange:function(t){return e.handleBuNameChange(t)},value:this.state.buName,valid:this.state.buNameValid,invalid:this.state.buNameInvalid,placeholder:"Enter BU Name"}),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"Enter Valid Name!"))),u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"select"},"Business Unit Lead",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.wb,{custom:!0,name:"select",id:"select",value:this.state.engineer,valid:this.state.tmValid,invalid:this.state.tmInvalid,onChange:function(t){return e.handleEnggChange(t)}},u.a.createElement("option",null,"Please Select Engineer"),t),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"This field is required!")))))),u.a.createElement(c.l,null,u.a.createElement(c.f,{type:"submit",size:"sm",color:"primary",style:{margin:"3px"},onClick:this.handleSubmit},"Submit"),u.a.createElement(c.f,{type:"reset",size:"sm",color:"danger",style:{margin:"3px"},onClick:this.handleReset},"Reset"),u.a.createElement(d.b,{to:"/buManagement"},u.a.createElement(c.f,{size:"sm",color:"dark",style:{margin:"3px"}},"Back")))))}}]),a}(u.a.Component);t.default=Object(m.c)()(h)}}]);
//# sourceMappingURL=31.371f18d3.chunk.js.map