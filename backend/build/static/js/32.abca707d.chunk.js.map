{"version":3,"sources":["contant/custom.js","dashboard/BuManagement/BuEditForm.js"],"names":["WEB_URL","BasicForms","state","buId","undefined","props","location","res","_id","buName","BUName","buNameValid","buNameInvalid","engineer","BURPID","tmValid","tmInvalid","userArr","fetchUser","fetch","then","response","json","data","Array","isArray","setState","catch","err","handleEnggChange","e","target","value","handleBuNameChange","match","handleSubmit","alert","params","dataRequest","message","show","error","console","log","handleReset","this","URL","method","headers","body","JSON","stringify","status","history","push","optionItems1","map","key","name","xs","action","encType","className","row","md","htmlFor","style","color","id","onChange","valid","invalid","placeholder","custom","type","size","margin","onClick","to","React","Component","withAlert"],"mappings":"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","file":"static/js/32.abca707d.chunk.js","sourcesContent":["//For Development with react - local db\n// const WEB_URL = \"http://127.0.0.1:5050\" \n\n//For deployment with node - Compile EXE\nconst WEB_URL = \"\"\nexport default WEB_URL;","import React from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormGroup,\n  CFormText,\n  CValidFeedback,\n  CInvalidFeedback,\n  CInput,\n  CLabel,\n  CSelect,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport WEB_URL from '../../contant/custom';\nimport { withAlert } from 'react-alert';\nimport { Link } from 'react-router-dom';\n\nclass BasicForms extends React.Component {\n\n  state = {\n    buId: this.props.location.res == (null || undefined) ? \"\" : this.props.location.res._id,\n    buName: this.props.location.res == (null || undefined) ? \"\" : this.props.location.res.BUName,\n    buNameValid: false,\n    buNameInvalid: false,\n\n    engineer: this.props.location.res == (null || undefined) ? \"\" : this.props.location.res.BURPID,\n    tmValid: false,\n    tmInvalid: false,\n\n    userArr: []\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n    console.log(\"Props\", this.props)\n  }\n\n  /*Api Calls*/\n  dataRequest(URL, params) {\n    return fetch(WEB_URL + URL, {\n      method: 'POST',\n      'credentials': 'include',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(params)\n    })\n      .then(data => {\n        if (data.status == 401) {\n          this.props.history.push('/login');\n        }\n        else if (data.status == 403) {\n          this.props.history.push('/login');\n        }\n        return data.json()\n      })\n      .catch(err => {\n        return err\n      })\n  }\n\n  fetchUser = () => {\n    const BUID = \"5efdbd9daf5de244e8660b38\"\n    fetch(WEB_URL + \"/user/fetch\")\n      .then(response => response.json())\n      .then(data => {\n        if (data != (null || undefined) && Array.isArray(data.data)) {\n          this.setState({\n            userArr: data.data\n          })\n        }\n      })\n      .catch(err => {\n          return err;\n      })\n  }\n\n  handleEnggChange = (e) => {\n    if (e.target.value != \"\" && e.target.value != \"Please Select Engineer\") {\n      this.setState({\n        engineer: e.target.value,\n        tmValid: true,\n        tmInvalid: false\n      })\n    }\n    else {\n      this.setState({\n        tmValid: false,\n        tmInvalid: true\n      })\n    }\n  }\n\n  handleBuNameChange = (e) => {\n    var letters = /^[a-zA-Z-,]+(\\s{0,1}[a-zA-Z-, ])*$/;\n    if (e.target.value != \"\" && e.target.value != null && e.target.value.match(letters)) {\n      this.setState({\n        buName: e.target.value,\n        buNameValid: true,\n        buNameInvalid: false\n      })\n    }\n    else {\n      this.setState({\n        buName: \"\",\n        buNameValid: false,\n        buNameInvalid: true\n      })\n    }\n  }\n\n  handleSubmit = () => {\n    const alert = this.props.alert;\n\n    if (this.state.buName != \"\" && this.state.engineer != \"\") {\n        let params = {};\n        params.buId = this.state.buId;\n        params.BUName = this.state.buName;\n        params.BURPID = this.state.engineer;\n      //console.log(\"params\", params,  JSON.stringify(params.dueDate))\n      this.dataRequest('/bu/update', params)\n        .then(data => {\n          if (data.message != undefined) {\n            alert.show(data.message);\n          }\n          else {\n            alert.show(\"Internal Server Error !\")\n          }\n        })\n        \n        .catch(error => {\n          console.log(\"inside TRForm\", error)\n        })\n    }\n    else {\n      alert.show(\"Please fill all the required fields\")\n    }\n  }\n\n  handleReset = () => {\n    this.setState({\n   \n      buName: \"\",\n      buNameValid: false,\n      buNameInvalid: false,\n  \n      engineer: \"\",\n      tmValid: false,\n      tmInvalid: false\n\n    })\n  }\n\n  render() {\n    let userArr = this.state.userArr;\n    let optionItems1 = userArr.map((res) =>\n      // console.log(\"users\",res, res._id, res.name)\n      <option key={res._id} value={res._id}>{res.name}</option>\n\n    )\n    return (\n      <>\n        <CCard>\n          <CCardHeader>\n            Add/Edit Business Unit Information\n          </CCardHeader>\n          <CCardBody>\n            <CCol xs=\"3\">\n\n            </CCol>\n            <CCol xs=\"7\">\n              <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\n              <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"text-input\">Business Unit Name<span style= {{color: 'red'}}>*</span></CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                    <CInput\n                      id=\"text-input\"\n                      name=\"text-input\"\n                      value={this.state.buName}\n                      onChange={e => this.handleBuNameChange(e)}\n                      valid={this.state.buNameValid}\n                      invalid= {this.state.buNameInvalid}\n                      placeholder=\"Enter BU Name\" />\n                      <CValidFeedback>Looks Good!</CValidFeedback>\n                    <CInvalidFeedback>This field is required!</CInvalidFeedback>\n                  </CCol>\n                </CFormGroup>\n\n                <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"select\">Business Unit Lead<span style= {{color: 'red'}}>*</span></CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                    <CSelect\n                      custom\n                      name=\"select\"\n                      id=\"select\"\n                      value={this.state.engineer}\n                      valid={this.state.tmValid}\n                      invalid={this.state.tmInvalid}\n                      onChange={e => this.handleEnggChange(e)}\n                    >\n                      <option>Please Select Engineer</option>\n                      {optionItems1}\n                      {/* <option>1</option>\n                      <option>2</option>\n                      <option>3</option>\n                      <option>4</option>\n                      <option>5</option>\n                      <option>6</option> */}\n                    </CSelect>\n                    <CValidFeedback>Looks Good!</CValidFeedback>\n                    <CInvalidFeedback>This field is required!</CInvalidFeedback>\n                  </CCol>\n                </CFormGroup>\n\n              </CForm>\n\n            </CCol>\n\n          </CCardBody>\n          <CCardFooter>\n            <CButton\n              type=\"submit\"\n              size=\"sm\"\n              color=\"primary\"\n              style={{ margin: \"3px\" }}\n              onClick={this.handleSubmit}\n            >\n              {/* <CIcon name=\"cil-scrubber\" /> */}\n                Submit\n            </CButton>\n\n            <CButton\n              type=\"reset\"\n              size=\"sm\"\n              color=\"danger\"\n              style={{ margin: \"3px\" }}\n              onClick={this.handleReset}\n            >\n              {/* <CIcon name=\"cil-ban\" /> */}\n                  Reset\n            </CButton>\n\n        <Link to=\"/buManagement\">\n            <CButton\n              size=\"sm\" color=\"dark\" style={{ margin: \"3px\" }}\n             // href=\"/src/dashboard/Bumanagement#/Bumanagement\"\n            >\n              Back\n            </CButton>\n          </Link>    \n          </CCardFooter>\n        </CCard>\n      </>\n    )\n  }\n}\nexport default withAlert()(BasicForms);"],"sourceRoot":""}