(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[38],{699:function(e,t,a){"use strict";t.a=""},890:function(e,t,a){"use strict";a.r(t);var n=a(184),l=a(185),r=a(187),i=a(186),s=a(0),u=a.n(s),c=a(694),m=(a(695),a(699)),o=a(131),d=a(183),h=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={bu:"",buArr:[],buValid:!1,buInvalid:!1,userType:"",utArr:[],userTypeValid:!1,usertypeInvalid:!1,name:"",nameValid:!1,nameInvalid:!1,email:"",emailInvalid:!1,emailValid:!1},e.fetchBu=function(t){fetch(m.a+"/bu/fetch").then((function(e){return e.json()})).then((function(t){void 0!=t.data&&t.data&&e.setState({buArr:t.data})})).catch((function(e){}))},e.fetchUserType=function(t){fetch(m.a+"/types/ut").then((function(e){return e.json()})).then((function(t){void 0!=t.data&&t.data&&e.setState({utArr:t.data})})).catch((function(e){console.log("User type Fetch Array",e)}))},e.handleUserTypeChange=function(t){""!=t.target.value&&"Please select"!=t.target.value?e.setState({userType:t.target.value,userTypeValid:!0,userTypeInvalid:!1}):e.setState({userType:"",userTypeInvalid:!0,userTypeValid:!1})},e.handleBuChange=function(t){""!=t.target.value&&"Please select BU"!=t.target.value?e.setState({bu:t.target.value,buValid:!0,buInvalid:!1}):e.setState({bu:"",buValid:!1,buInvalid:!0})},e.handleNameChange=function(t){""!=t.target.value&&null!=t.target.value&&t.target.value.match(/^[a-zA-Z-,]+(\s{0,1}[a-zA-Z-, ])*$/)?e.setState({name:t.target.value,nameValid:!0,nameInvalid:!1}):e.setState({name:t.target.value,nameValid:!1,nameInvalid:!0})},e.handleEmailChange=function(t){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,15})+$/.test(t.target.value)?e.setState({email:t.target.value,emailValid:!0,emailInvalid:!1}):e.setState({email:t.target.value,emailInvalid:!0,emailValid:!1})},e.handleSubmit=function(){var t=e.props.alert;if(e.state.emailValid&&e.state.userTypeValid&&e.state.nameValid){var a={};a.email=e.state.email,a.name=e.state.name,a.BUID=e.state.bu,a.userType=e.state.userType,e.dataRequest("/user/add",a).then((function(e){void 0!=e.message?t.show(e.message):t.show("Internal Server Error !")})).catch((function(e){t.show("Oops, Something went wrong!")}))}else console.log("inside else"),t.show("Please fill all the required fields")},e.handleReset=function(){e.setState({userType:"",userTypeValid:!1,userTypeInvalid:!1,bu:"",buValid:!1,buInvalid:!1,name:"",nameValid:!1,nameInvalid:!1,email:"",emailInvalid:!1,emailValid:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchBu(),this.fetchUserType()}},{key:"dataRequest",value:function(e,t){var a=this;return console.log("inside data req func",t.selectedDate),fetch(m.a+e,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return(401==e.status||403==e.status)&&a.props.history.push("/login"),e.json()})).catch((function(e){return console.log("chartErr",e),e}))}},{key:"render",value:function(){var e=this,t=this.state.buArr.map((function(e,t){return u.a.createElement("option",{key:e._id,value:e._id},e.BUName)})),a=this.state.utArr.map((function(e,t){return u.a.createElement("option",{key:e},e)}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.j,null,u.a.createElement(c.n,null,"Add User Details"),u.a.createElement(c.k,null,u.a.createElement(c.u,{xs:"3"}),u.a.createElement(c.u,{xs:"7"},u.a.createElement(c.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"email-input"},"Name",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.R,{type:"text",id:"tex1-input",name:"text1-input",placeholder:"Enter User's Name",autoComplete:"tex1",value:this.state.name,valid:this.state.nameValid,invalid:this.state.nameInvalid,onChange:function(t){return e.handleNameChange(t)}}),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"Please Enter a Valid Name!"))),u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"select"},"Business Unit")),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.wb,{custom:!0,name:"select",id:"select",value:this.state.bu,valid:this.state.buValid,invalid:this.state.buInvalid,onChange:function(t){return e.handleBuChange(t)}},u.a.createElement("option",null,"Please select BU"),t),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"This field is required!"))),u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"text-input"},"User Type",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.wb,{custom:!0,name:"select",id:"select",value:this.state.userType,valid:this.state.userTypeValid,invalid:this.state.userTypeInvalid,onChange:function(t){return e.handleUserTypeChange(t)}},u.a.createElement("option",null,""!=this.state.userType?this.state.userType:"Please select User Type"),a),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"This field is required!"))),u.a.createElement(c.K,{row:!0},u.a.createElement(c.u,{md:"3"},u.a.createElement(c.bb,{htmlFor:"email-input"},"EmailID",u.a.createElement("span",{style:{color:"red"}},"*"))),u.a.createElement(c.u,{xs:"12",md:"9"},u.a.createElement(c.R,{type:"text",id:"email-input",name:"email-input",placeholder:"Enter Email Address",autoComplete:"email",value:this.state.email,valid:this.state.emailValid,invalid:this.state.emailInvalid,onChange:function(t){return e.handleEmailChange(t)}}),u.a.createElement(c.Qb,null,"Looks Good!"),u.a.createElement(c.Z,null,"Please Enter Valid Email")))))),u.a.createElement(c.l,null,u.a.createElement(c.f,{type:"submit",size:"sm",color:"primary",style:{margin:"3px"},onClick:this.handleSubmit},"Submit"),u.a.createElement(c.f,{type:"reset",size:"sm",color:"danger",style:{margin:"3px"},onClick:this.handleReset},"Reset"),u.a.createElement(d.b,{to:"/usersTable"},u.a.createElement(c.f,{size:"sm",color:"dark",style:{margin:"3px"}},"Back")))))}}]),a}(u.a.Component);t.default=Object(o.c)()(h)}}]);
//# sourceMappingURL=38.a5c6777f.chunk.js.map